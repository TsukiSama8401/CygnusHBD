<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>熙歌</title>
    <link rel="stylesheet" href="./css/bootstrap.min.css" />
    <link rel="stylesheet" href="./css/myself.css" />
    <script src="./js/jquery-3.6.3.min.js"></script>
    <script src="./js/bootstrap.min.js"></script>
    <div id="navbar"></div>
  </head>

  <body class="bg-dark text-white main-wrapper">
    <div class="audio">
      <img src="./res/CygnusCell/C01.png" class="mugshot">
      <audio controls="controls" controlsList="nodownload">
        <source src="./res/CygnusCell/sound/愛唄.flac">
      </audio>
    </div>
    <div class="audio">
      <img src="./res/CygnusCell/C01.png" class="mugshot">
      <audio controls="controls" controlsList="nodownload">
        <source src="./res/CygnusCell/sound/燦々デイズ.flac">
      </audio>
    </div>
    <div class="audio">
      <img src="./res/CygnusCell/C01.png" class="mugshot">
      <audio controls="controls" controlsList="nodownload">
        <source src="./res/CygnusCell/sound/恋ノ行方.flac">
      </audio>
    </div>
  </body>

  <footer>
    <div id="copyright"></div>
  </footer>

</html>
<script type="text/javascript">
  // 引入partial
  $("#navbar").load("./partial/CygnusPartial/CygnusNavbar.html");
  $("#copyright").load("./partial/CygnusPartial/CopyRight.html");

  // 歌歌歌歌歌
  let count = 0;
  $(".main-wrapper").on("click", function (event) {
    var elements = new Array("歌");
    var target = $("<span/>").text(elements[count]);
    if (count === elements.length - 1) {
      $("row:hidden").show("normal");
    }
    var x = event.pageX,
      y = event.pageY;
    target.css({
      "z-index": 5,
      "top": y - 42,
      "left": x + (Math.floor(Math.random() * 60 - 30)),
      "position": "absolute",
      "font-weight": "bold",
      "color": "red",
      "font-size": "22pt"
    });
    $("body").append(target);
    target.animate({
      "top": y - 380,
      "opacity": 0
    },
      1500,
      function () {
        target.remove();
      });
  });
  
  // 跑馬燈
  var xhr = new XMLHttpRequest();
  xhr.open('get','./Cell/CommonCell/comment.json',true);
  xhr.send(null);
  xhr.onload = function(){
    var datastr = JSON.parse(xhr.responseText);
    var info = document.querySelector('.info');
    var len  = datastr.length;
    var str= "";
    for (var i = 0; i < len; i++) {
      var content = '<li white-space: nowrap><p>'+datastr[i].id+'：'+datastr[i].comment+'</p></li>';
      str+=content;
      };
    info.innerHTML += str;
    };

</script>