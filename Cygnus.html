<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>熙歌</title>
    <link rel="stylesheet" href="./css/bootstrap.min.css" />
    <link rel="stylesheet" href="./css/myself.css" />
    <script src="./js/jquery-3.6.3.min.js"></script>
    <script src="./js/bootstrap.min.js"></script>
    <div id="navbar"></div>
  </head>

  <body class="bg-dark text-white main-wrapper">
    <!--大圖-->
    <div>

    </div>
    <!--紀念影片-->
    <div id="HbdFilm" style="text-align: center;">
      <iframe width="640" height="360" src="https://www.youtube.com/embed/p_s3k_8ITCU" title="YouTube" 
      frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
    </div>
    <!--FanArt區-->
    <div id="tachie">
      <img id="cygnus-main" src="./res/CygnusCell/vts-2022-11-16_21h51_13.png"
        width="900" style="float:right" alter="熙歌超可愛~" />
    </div>
  </body>

  <footer>
    <div class="marqee">
      <ul class="info" style="display: flex;"></ul>
      <br>
      <div id="copyright"></div>
    </div>
  </footer>

</html>
<script type="text/javascript">
  // 引入partial
  $("#navbar").load("./partial/CygnusPartial/CygnusNavbar.html");
  $("#copyright").load("./partial/CygnusPartial/CopyRight.html");

  // 歌歌歌歌歌
  let count = 0;
  $(".main-wrapper").on("click", function (event) {
    var elements = new Array("歌");
    var target = $("<span/>").text(elements[count]);
    if (count === 20) {
      $("row:hidden").show("normal");
    }
    var x = event.pageX,
      y = event.pageY;
    target.css({
      "z-index": 5,
      "top": y - 42,
      "left": x + (Math.floor(Math.random() * 60 - 30)),
      "position": "absolute",
      "font-weight": "bold",
      "color": "red",
      "font-size": "22pt"
    });
    $("body").append(target);
    target.animate({
      "top": y - 380,
      "opacity": 0
    },
      1500,
      function () {
        target.remove();
      });
  });
  
  // 跑馬燈
  var xhr = new XMLHttpRequest();
  xhr.open('get','./res/CommonCell/comment.json',true);
  xhr.send(null);
  xhr.onload = function(){
    var datastr = JSON.parse(xhr.responseText);
    var info = document.querySelector('.info');
    var len  = datastr.length;
    var str= "";
    for (var i = 0; i < len; i++) {
      var content = '<li white-space: nowrap><p>'+datastr[i].id+'：'+datastr[i].comment+'</p></li>';
      str+=content;
      };
    info.innerHTML += str;
    };

</script>
